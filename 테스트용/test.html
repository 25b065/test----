<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ì˜¤ëŠ˜ì˜ ê°ì • ë‚˜ë¬´</title>
<style>
    body {
        font-family: 'Pretendard', sans-serif;
        background: #f6f4e8;
        display: flex;
        padding: 20px;
    }

    /* ì™¼ìª½ ì…ë ¥ ë°•ìŠ¤ */
    .input-container {
        width: 300px;
        background: #ffffff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        margin-right: 20px;
    }

    .input-container h2 {
        margin-top: 0;
        margin-bottom: 10px;
    }

    .input-container input,
    .input-container textarea {
        width: 100%;
        padding: 10px;
        margin-top: 6px;
        margin-bottom: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        resize: none;
    }

    button {
        padding: 10px 15px;
        border: none;
        border-radius: 8px;
        background: #7abf7a;
        color: white;
        font-size: 14px;
        cursor: pointer;
    }

    button:hover {
        background: #5cae5c;
    }

    /* ì˜¤ë¥¸ìª½ */
    .content {
        flex: 1;
    }

    /* ê°ì • ë‚˜ë¬´ */
    .tree {
        width: 150px;
        text-align: center;
        margin-bottom: 20px;
    }

    .tree img {
        width: 120px;
    }

    .list {
        background: #ffffff;
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .list-item {
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
    }

    .list-item:last-child {
        border-bottom: none;
    }
</style>
</head>
<body>

<!-- ì™¼ìª½ ì…ë ¥ -->
<div class="input-container">
    <h2>ì˜¤ëŠ˜ì˜ ê°ì • ì…ë ¥í•˜ê¸°</h2>
    <label>ì˜¤ëŠ˜ì˜ ê°ì •</label>
    <input id="feeling" placeholder="ì˜ˆ: ê¸°ì¨, ìš°ìš¸, ì„¤ë ˜" />

    <label>ì´ìœ </label>
    <textarea id="reason" rows="3" placeholder="ì™œ ê·¸ëŸ° ê°ì •ì„ ëŠê¼ˆëŠ”ì§€"></textarea>

    <button onclick="addTree()">ë‚˜ë¬´ ë§Œë“¤ê¸°</button>
    <button onclick="saveTrees()" style="background:#6A8FE6; margin-top:10px;">ë‚˜ì˜ ë‚˜ë¬´ ì €ì¥í•˜ê¸°</button>
</div>

<!-- ì˜¤ë¥¸ìª½ í™”ë©´ -->
<div class="content">
    <h2>ì˜¤ëŠ˜ì˜ ê°ì • ë‚˜ë¬´ ğŸŒ³</h2>
    <div id="treeDisplay"></div>

    <h2>ë‚˜ì˜ ê°ì • ë¦¬ìŠ¤íŠ¸</h2>
    <div class="list" id="treeList"></div>
</div>

<script>
// í”¼ë“œë°± ìƒì„± í•¨ìˆ˜
function createFeedback(feeling) {
    const messages = {
        "ê¸°ì¨": "ê¸°ìœ í•˜ë£¨ì˜€êµ¬ë‚˜! ì´ ê°ì •ì„ ì˜¤ë˜ ê¸°ì–µí•´ë„ ì¢‹ì•„ ğŸŒŸ",
        "ì„¤ë ˜": "ë‘ê·¼ê±°ë¦¬ëŠ” í•˜ë£¨ì˜€ë„¤! ì´ëŸ° ë‚ ì´ ìì£¼ ì˜¤ë©´ ì¢‹ê² ë‹¤ âœ¨",
        "ìš°ìš¸": "ì˜¤ëŠ˜ ë§ì´ ì†ìƒí–ˆê² ë‹¤. ì¶©ë¶„íˆ ì‰¬ì–´ë„ ê´œì°®ì•„ ğŸ’™",
        "í™”ë‚¨": "í˜ë“  ì¼ì´ ìˆì—ˆë‚˜ë´. ë„¤ ê°ì •ì„ ì¸ì •í•´ì£¼ëŠ” ê²Œ ì¤‘ìš”í•´ ğŸ”¥",
        "ë¶ˆì•ˆ": "ë§ˆìŒì´ í”ë“¤ë ¸ê² ë„¤. í•˜ì§€ë§Œ ë„ˆëŠ” ì¶©ë¶„íˆ ì˜í•˜ê³  ìˆì–´ ğŸŒ¿"
    };
    return messages[feeling] || "ë„¤ê°€ ëŠë‚€ ê°ì •ì€ ì†Œì¤‘í•´. ìŠ¤ìŠ¤ë¡œë¥¼ ì˜ ëŒë´ì¤˜ ğŸ€";
}

// ë‚˜ë¬´ ë°ì´í„°
let trees = JSON.parse(localStorage.getItem("myTrees")) || [];

// í™”ë©´ ì—…ë°ì´íŠ¸
function renderTrees() {
    const list = document.getElementById("treeList");
    list.innerHTML = "";

    trees.forEach((tree, index) => {
        list.innerHTML += `
            <div class="list-item">
                <strong>${index + 1}. ê°ì •: ${tree.feeling}</strong><br>
                ì´ìœ : ${tree.reason}<br>
                í”¼ë“œë°±: ${tree.feedback}
            </div>
        `;
    });
}

// ë‚˜ë¬´ ë§Œë“¤ê¸°
function addTree() {
    const feeling = document.getElementById("feeling").value.trim();
    const reason = document.getElementById("reason").value.trim();

    if (!feeling || !reason) {
        alert("ê°ì •ê³¼ ì´ìœ ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì¤˜!");
        return;
    }

    const feedback = createFeedback(feeling);

    // ë‚˜ë¬´ ì´ë¯¸ì§€ í‘œì‹œ
    document.getElementById("treeDisplay").innerHTML = `
        <div class="tree">
            <img src="https://i.imgur.com/YtZ8g4H.png" alt="ë‚˜ë¬´">
            <p><strong>ê°ì •:</strong> ${feeling}</p>
            <p><strong>í”¼ë“œë°±:</strong> ${feedback}</p>
        </div>
    `;

    // ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
    trees.push({ feeling, reason, feedback });
    renderTrees();

    // ì…ë ¥ì°½ ì´ˆê¸°í™”
    document.getElementById("feeling").value = "";
    document.getElementById("reason").value = "";
}

// ì €ì¥ ë²„íŠ¼
function saveTrees() {
    localStorage.setItem("myTrees", JSON.stringify(trees));
    alert("ì €ì¥ ì™„ë£Œ! ë‹¤ìŒì— ë“¤ì–´ì™€ë„ ê¸°ë¡ì´ ìœ ì§€ë¼ ğŸ˜Š");
}

// ì²˜ìŒ ì‹¤í–‰ ì‹œ í™”ë©´ ì—…ë°ì´íŠ¸
renderTrees();
</script>

</body>
</html>
